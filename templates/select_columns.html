<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Select Columns</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/select_columns.css') }}">
</head>
<body>
    <div class="form-box">
        <h1>Select Columns to Extract</h1>
        <form method="POST" action="/process-columns">
          {% for col in columns %}
            <div class="form-check">
              <input class="form-check-input" type="checkbox" name="selected_columns" value="{{ col }}" id="{{ col }}" checked>
              <label class="form-check-label" for="{{ col }}">{{ col }}</label>
            </div>
          {% endfor %}
          <input type="hidden" name="filenames" value="{{ filenames|join(',') }}">
          
          <div class="text-center mt-4">
            <div class="btn-group" role="group">
              <button type="button" class="btn btn-outline-secondary" onclick="setAll(true)">Select All</button>
              <button type="button" class="btn btn-outline-secondary" onclick="setAll(false)">Deselect All</button>
              <button type="submit" class="btn btn-primary">Process Files</button>
            </div>
          </div>
        </form>
      </div>
      
      <script>
        function setAll(checked) {
          document.querySelectorAll('input.form-check-input').forEach(el => el.checked = checked);
        }
      </script>
      
</body>
</html>